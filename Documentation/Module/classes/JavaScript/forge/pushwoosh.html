<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pushwoosh</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic1"></a><div class="CTopic TClass LJavaScript first">
 <div class="CTitle"><span class="Qualifier">forge.</span>&#8203;pushwoosh</div>
 <div class="CBody"><p>Class to interact with Pushwoosh Push Notifications plugin</p><div class="CHeading">Example</div><pre>forge.<span class="SHKeyword">internal</span>.addEventListener(<span class="SHString">&quot;pushwoosh.pushReceived&quot;</span>,<br />    <span class="SHKeyword">function</span> (notification) {<br />            alert(<span class="SHString">'push received: '</span> + notification);<br />    }<br />);<br /><br />forge.<span class="SHKeyword">internal</span>.addEventListener(<span class="SHString">&quot;pushwoosh.registrationSuccess&quot;</span>,<br />    <span class="SHKeyword">function</span> (status) {<br />            log(<span class="SHString">'registered with token: '</span> + status[<span class="SHString">'deviceToken'</span>]);<br />    }<br />);<br /><br />forge.<span class="SHKeyword">internal</span>.addEventListener(<span class="SHString">&quot;pushwoosh.registrationFail&quot;</span>,<br />    <span class="SHKeyword">function</span> (error) {<br />            log(<span class="SHString">'Failed to register: '</span> + error);<br />    }<br />);<br /><br />forge.pushwoosh.onDeviceReady({<span class="SHString">&quot;pw_appid&quot;</span>:<span class="SHString">&quot;XXXXX-XXXXX&quot;</span>, <span class="SHString">&quot;gcm_id&quot;</span>:<span class="SHString">&quot;XXXXXXXXXXXX&quot;</span>});<br />forge.pushwoosh.registerDevice();</pre><p>Expose the native API to javascript</p></div>
</div>

<a name="Functions"></a><a name="Topic2"></a><div class="CTopic TGroup LJavaScript">
 <div class="CTitle">Functions</div>
</div>

<a name="onDeviceReady"></a><a name="Topic3"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">onDeviceReady</div>
 <div id="NDPrototype3" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">onDeviceReady: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">params,</td></tr><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Call this first thing with your Pushwoosh App ID (pw_appid parameter) and Google Project ID for Android (gcm_id parameter)</p><div class="CHeading">Example</div><pre><span class="SHComment">//initialize Pushwoosh with projectid: &quot;GOOGLE_PROJECT_ID&quot;, gcm_id : &quot;PUSHWOOSH_APP_ID&quot;. This will also trigger all pending push notifications on start.</span><br />forge.pushwoosh.onDeviceReady({<span class="SHString">&quot;pw_appid&quot;</span>:<span class="SHString">&quot;XXXXX-XXXXX&quot;</span>, <span class="SHString">&quot;gcm_id&quot;</span>:<span class="SHString">&quot;XXXXXXXXXXXX&quot;</span>});</pre></div>
</div>

<a name="registerDevice"></a><a name="Topic4"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">registerDevice</div>
 <div id="NDPrototype4" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">registerDevice: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Call this to register for push notifications and retreive a push token via callbacks</p><div class="CHeading">Example</div><pre>forge.pushwoosh.registerDevice();</pre></div>
</div>

<a name="unregisterDevice"></a><a name="Topic5"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">unregisterDevice</div>
 <div id="NDPrototype5" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">unregisterDevice: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Unregisters device from push notifications</p><div class="CHeading">Example</div><pre>forge.pushwoosh.unregisterDevice();</pre></div>
</div>

<a name="setTags"></a><a name="Topic6"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">setTags</div>
 <div id="NDPrototype6" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">setTags: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">params,</td></tr><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Call this to set tags for the device</p><div class="CHeading">Example</div><p>sets the following tags: &quot;deviceName&quot; with value &quot;hello&quot; and &quot;deviceId&quot; with value 10</p><pre>forge.pushwoosh.setTags({tags : {deviceName:<span class="SHString">&quot;hello&quot;</span>, deviceId:<span class="SHNumber">10</span>}},<br />    <span class="SHKeyword">function</span>(status) {<br />        forge.logging.log(<span class="SHString">'setTags success'</span>);<br />    },<br />    <span class="SHKeyword">function</span>(status) {<br />        forge.logging.log(<span class="SHString">'setTags failed'</span>);<br />    }<br />);<br /><br /><span class="SHComment">//setings list tags &quot;tag1&quot; with values (array) &quot;item1&quot;, &quot;item2&quot;</span><br />forge.pushwoosh.setTags({tags : {<span class="SHString">&quot;tag1&quot;</span> : [<span class="SHString">&quot;item1&quot;</span>, <span class="SHString">&quot;item2&quot;</span>]}},<br />  <span class="SHKeyword">function</span> (status) {<br />      forge.logging.log(<span class="SHString">'set tags success'</span>);<br />  },<br />  <span class="SHKeyword">function</span>(status) {<br />      forge.logging.log(<span class="SHString">'setTags failed'</span>);<br />  }<br />);</pre></div>
</div>

<a name="getTags"></a><a name="Topic7"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getTags</div>
 <div id="NDPrototype7" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">getTags: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Call this to get tags for the device</p><div class="CHeading">Example</div><pre>forge.pushwoosh.getTags(<br />  <span class="SHKeyword">function</span> (tags) {<br />      log(<span class="SHString">'tags loaded: '</span> + JSON.stringify(tags));<br />  },<br />  <span class="SHKeyword">function</span>(status) {<br />      forge.logging.log(<span class="SHString">'getTags failed'</span>);<br />  }<br />);</pre></div>
</div>

<a name="getPushToken"></a><a name="Topic8"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getPushToken</div>
 <div id="NDPrototype8" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">getPushToken: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Call this to get push token if it is available. Note the token also comes in &quot;pushwoosh.registrationSuccess&quot; function callback.</p><div class="CHeading">Example</div><pre>forge.pushwoosh.getPushToken(<br />  <span class="SHKeyword">function</span> (token) {<br />      forge.logging.log(<span class="SHString">'token : '</span> + token);<br />});</pre></div>
</div>

<a name="getHWID"></a><a name="Topic9"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getHWID</div>
 <div id="NDPrototype9" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">getHWID: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Call this to get Pushwoosh HWID used for communications with Pushwoosh API</p><div class="CHeading">Example</div><pre>forge.pushwoosh.getHWID(<br />  <span class="SHKeyword">function</span> (hwid) {<br />      forge.logging.log(<span class="SHString">'HWID : '</span> + hwid);<br />});</pre></div>
</div>

<a name="getRemoteNotificationStatus"></a><a name="Topic10"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getRemoteNotificationStatus</div>
 <div id="NDPrototype10" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">getRemoteNotificationStatus: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>iOS only, Call this to get a detailed status of push notification permissions.</p><p>Returns array with the following items:</p><table class="CDefinitionList"><tr><td class="CDLEntry">&quot;enabled&quot;</td><td class="CDLDefinition"><p>if push notificaions enabled.</p></td></tr><tr><td class="CDLEntry">&quot;pushBadge&quot;</td><td class="CDLDefinition"><p>badges permission granted.</p></td></tr><tr><td class="CDLEntry">&quot;pushAlert&quot;</td><td class="CDLDefinition"><p>alert permission granted.</p></td></tr><tr><td class="CDLEntry">&quot;pushSound&quot;</td><td class="CDLDefinition"><p>sound permission granted.</p></td></tr></table></div>
</div>

<a name="setApplicationIconBadgeNumber"></a><a name="Topic11"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">setApplicationIconBadgeNumber</div>
 <div id="NDPrototype11" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">setApplicationIconBadgeNumber: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">params,</td></tr><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>iOS only, Call this to set the application icon badge</p><div class="CHeading">Example</div><pre>forge.pushwoosh.setApplicationIconBadgeNumber({badge:<span class="SHNumber">10</span>});</pre></div>
</div>

<a name="cancelAllLocalNotifications"></a><a name="Topic12"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">cancelAllLocalNotifications</div>
 <div id="NDPrototype12" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">cancelAllLocalNotifications: <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>iOS only, Call this to clear all notifications from the notification center</p></div>
</div>

<a name="setForegroundAlert"></a><a name="Topic13"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">setForegroundAlert</div>
 <div id="NDPrototype13" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">setForegroundAlert: <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">params,</td></tr><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Set to true to disable automatic push handing in foreground By default is set to true on iOS and false on Android</p><div class="CHeading">Example</div><pre>forge.pushwoosh.setForegroundAlert({alert:<span class="SHKeyword">true</span>});</pre></div>
</div>

<a name="setUserId"></a><a name="Topic14"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">setUserId</div>
 <div id="NDPrototype14" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">setUserId: <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">params,</td></tr><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Set User indentifier. This could be Facebook ID, username or email, or any other user ID.&nbsp; This allows data and events to be matched across multiple user devices.</p></div>
</div>

<a name="postEvent"></a><a name="Topic15"></a><div class="CTopic TFunction LJavaScript last">
 <div class="CTitle">postEvent</div>
 <div id="NDPrototype15" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">postEvent: <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">params,</td></tr><tr><td class="PName first last">success,</td></tr><tr><td class="PName first last">error</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Post events for In-App Messages. This can trigger In-App message display as specified in Pushwoosh Control Panel.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">&quot;event&quot;</td><td class="CDLDefinition"><p>event to trigger</p></td></tr><tr><td class="CDLEntry">&quot;attributes&quot;</td><td class="CDLDefinition"><p>object with additional event attributes</p></td></tr></table><div class="CHeading">Example</div><pre>forge.pushwoosh.postEvent({<span class="SHKeyword">event</span>:<span class="SHString">&quot;buttonPressed&quot;</span>, attributes:{ <span class="SHString">&quot;buttonNumber&quot;</span> : <span class="SHNumber">4</span>, <span class="SHString">&quot;buttonLabel&quot;</span> : <span class="SHString">&quot;banner&quot;</span> }});</pre></div>
</div>

</body></html>